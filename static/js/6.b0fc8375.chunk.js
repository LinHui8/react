(this.webpackJsonphaoke=this.webpackJsonphaoke||[]).push([[6],{641:function(t,e,n){"use strict";var a=n(0),r=n.n(a),i=n(15),c=n(85),s=n(642),o=n.n(s);e.a=Object(c.f)((function(t){var e=t.children,n=t.history,a=t.onLeftClick,c=t.className,s=t.rightContent;return r.a.createElement(i.i,{className:[o.a.navBar,c||""].join(" "),mode:"light",icon:r.a.createElement("i",{className:"iconfont icon-back"}),onLeftClick:a||function(){return n.go(-1)},rightContent:s},e)}))},642:function(t,e,n){t.exports={navBar:"NavHeader_navBar__2SDxf"}},691:function(t,e,n){},705:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var a=n(21),r=n.n(a),i=n(39),c=n(28),s=n(29),o=n(31),u=n(30),l=n(32),h=n(0),d=n.n(h),f=n(83),y=n.n(f),v=n(15),m=n(132),p=n(40),x=n(641),g=(n(691),function(t){var e={};t.forEach((function(t){var n=t.short.substr(0,1);e[n]?e[n].push(t):e[n]=[t]}));var n=Object.keys(e).sort();return{cityList:e,cityIndex:n}}),k=["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"],w=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(o.a)(this,Object(u.a)(e).call(this,t))).rowRenderer=function(t){var e=t.key,a=t.index,r=(t.isScrolling,t.isVisible,t.style),i=n.state,c=i.cityIndex,s=i.cityList,o=c[a];return d.a.createElement("div",{key:e,style:r,className:"city"},d.a.createElement("div",{className:"title"},function(t){switch(t){case"#":return"\u5f53\u524d\u5b9a\u4f4d";case"hot":return"\u70ed\u95e8\u57ce\u5e02";default:return t.toUpperCase()}}(o)),s[o].map((function(t){return d.a.createElement("div",{className:"name",key:t.value,onClick:function(){return n.changeCity(t)}},t.label)})))},n.getRowHeight=function(t){var e=t.index,a=n.state;return 36+50*a.cityList[a.cityIndex[e]].length},n.onRowsRendered=function(t){var e=t.startIndex;n.state.activeIndex!==e&&n.setState({activeIndex:e})},n.state={cityList:{},cityIndex:[],activeIndex:0},n.cityListComponent=d.a.createRef(),n}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCityList();case 2:this.cityListComponent.current.measureAllRows();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getCityList",value:function(){var t=Object(i.a)(r.a.mark((function t(){var e,n,a,i,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("http://localhost:8080/area/city?level=1");case 2:return e=t.sent,n=g(e.data.body),a=n.cityList,i=n.cityIndex,t.next=6,y.a.get("http://localhost:8080/area/hot");case 6:return c=t.sent,a.hot=c.data.body,i.unshift("hot"),t.next=11,Object(p.d)();case 11:s=t.sent,a["#"]=[s],i.unshift("#"),this.setState({cityList:a,cityIndex:i});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"changeCity",value:function(t){var e=t.label,n=t.value;k.indexOf(e)>-1?(localStorage.setItem("hkzf_city",JSON.stringify({label:e,value:n})),this.props.history.go(-1)):v.o.info("\u8be5\u57ce\u5e02\u6682\u65e0\u623f\u6e90\u6570\u636e",1,null,!1)}},{key:"renderCityIndex",value:function(){var t=this,e=this.state,n=e.cityIndex,a=e.activeIndex;return n.map((function(e,n){return d.a.createElement("li",{className:"city-index-item",key:e,onClick:function(){t.cityListComponent.current.scrollToRow(n)}},d.a.createElement("span",{className:a===n?"index-active":""},"hot"===e?"\u70ed":e.toUpperCase()))}))}},{key:"render",value:function(){var t=this;return d.a.createElement("div",{className:"citylist"},d.a.createElement(x.a,null,"\u57ce\u5e02\u9009\u62e9"),d.a.createElement(m.a,null,(function(e){var n=e.width,a=e.height;return d.a.createElement(m.c,{ref:t.cityListComponent,width:n,height:a,rowCount:t.state.cityIndex.length,rowHeight:t.getRowHeight,rowRenderer:t.rowRenderer,onRowsRendered:t.onRowsRendered,scrollToAlignment:"start"})})),d.a.createElement("ul",{className:"city-index"},this.renderCityIndex()))}}]),e}(d.a.Component)}}]);
//# sourceMappingURL=6.b0fc8375.chunk.js.map